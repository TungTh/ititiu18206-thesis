<!DOCTYPE html>
<html>
	<head>
		<script src="socketio.js"></script>
		<script>
			var key = 'loremipsumdolorsitamet'
			var value = '{"name": "Kha", "age": 22}'

			var socket =  io.connect('http://localhost:3004');

			socket.on('connect', function() {
				console.log('Connected')
			});
			
			socket.on('sv_broadcast_tbSorted', function(data) {
				console.log(`Fresh data from server:\n  Key: ${data.key}\n  Value: ${data.value}\n  Socket ID: ${socket.id}\n`)
			});

			socket.on('disconnect', function() {
				console.log('Disconnected')
			});

			const addListener = () => {
				socket.on('sv_broadcast_tbSortedResults', function(data) {
					console.log(`Result data from server:\n  Key: ${data.key}\n  Value: ${data.value}\n  Socket ID: ${socket.id}\n`)
				});
			}

			const sendDisconnect = () => {
				socket.disconnect();
			}

			const sendMessage = () => {
                let toBeSent = {
                	requestUpdateTopics: true
                }

                socket.emit('cl_sendData', toBeSent);
			}
		</script>
	</head>

	<body>
		<input id = 'keyField' placeholder="Key"></input>
		<input id = 'valueField' placeholder="Value"></input>
		<button onclick="addListener()">Add new Listener</button>
		<button onclick="sendMessage()">Submit</button>
		<button onclick="sendDisconnect()">Disconnect</button>
	</body>
</html>